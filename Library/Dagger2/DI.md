# DI
* Dagger2를 배우기 전에 DI가 무엇인지 확실하게 이해하고 넘어갑니다.

## Dependency란
* Dependency는 코드에서 두 모듈간의 연결이라고 할 수 있습니다.
* 객체지향언어에서는 두 클래스간의 관계라고도 말합니다.
* 일반적으로 둘 중 하나가 다른 하나를 어떤 용도를 위해 사용합니다.

## Dependency는 위험해요
* **하나의 모듈이 바뀌면 의존한 다른 모듈까지 변경이 이루어지기 때문입니다.**
* 그리고 테스트 가능한 애플리케이션을 만들고자할 때 의존성이 있으면 유닛테스트 작성이 어려운데 
* 유닛테스트의 목적 자체가 다른 모듈로부터 독립적으로 테스트하는 것을 요구하기 때문입니다. 그래서 mock으로 의존성을 대체할 필요가 있습니다.
* 만약에 한 모듈에서 다른 모듈을 사용한다고 했을 때 테스트를 한다고 해봅시다.
* 테스트가 실패했을 때 현재 모듈에서의 실패일까요 의존하는 모듈의 실패일까요? 알 수 없습니다.
* 특히 High-level에서 Low-level로의 의존성은 위험합니다.
* 만약 이 테스트 함수가 어떤 것을 데이터베이스에 저장하거나 원격 API를 요청하는 녀석이라면 더 심각해집니다. 모든 new는 피하고 싶은 의존성입니다.

## DI와 IoC

* DI는 Dependency Injection(의존성 주입)의 준말입니다.
* 의존성 주입이란 외부에서 의존 객체를 생성하여 넘겨주는 것을 의미합니다.
* 예를 들어 A Class가 B Class를 의존할 때 B Object를 A가 직접 생성하지 않고 외부에서 생성하여 넘겨주면 의존성을 주입했다고 합니다.
![DI](https://cdn-images-1.medium.com/max/2400/1*nVjOkGwwwxuUjuz546Ux9Q.jpeg)

* DI를 위해서는 객체를 생성하고 넘겨주는 외부의 무언가가 필요합니다. 이것이 DI Framework가 하는 일입니다.
* 외부에서 넘겨주는 무언가를 스프링에서는 컨테이너, Dagger에서는 Component와 Module이라고 부릅니다. 
* DI는 이렇게 의존성이 있는 객체의 제어를 외부 Framework로 올리면서 올리면서 IoC 개념을 구현합니다. IoC는 Inversion of Control(제어의 역전)의 준말입니다.

![IoC](https://cdn-images-1.medium.com/max/1600/1*HKyMpD1lu3c7wieQC5xxRg.jpeg)

## DI 그래서 왜 써요?
1. 의존성 파라미터를 생성자에 작성하지 않아도 되므로 보일러 플레이트 코드를 많이 줄일 수 있습니다. 보일러 플레이트 코드를 줄이는 것만으로도 유연한 프로그래밍이 가능합니다.
2. Interface에 구현체를 쉽게 교체하면서 상황에 따라 적절한 행동을 정의할 수 있습니다. 이것은 특히 Mock 객체와 실제 객체를 바꿔가며 테스트할 때 유용합니다.